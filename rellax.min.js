!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){var e=function(t,n){"use strict";var o=Object.create(e.prototype),i=0,r=0,s=[],l=!0,a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},d=null,c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}catch(e){}var u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,f=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}();o.options={round:!0,frame:null,callback:function(){}},n&&Object.keys(n).forEach(function(e){o.options[e]=n[e]}),t||(t=".rellax");var w="string"==typeof t?document.querySelectorAll(t):[t];if(w.length>0){if(o.elems=w,o.options.frame&&!o.options.frame.nodeType){var v=document.querySelector(o.options.frame);if(!v)return void console.warn("Rellax: The frame you're trying to use doesn't exist.");o.options.frame=v}var p=function(){for(var e=0;e<s.length;e++)o.elems[e].style.cssText=s[e].style;s=[],r=window.innerHeight,window.innerWidth,h(),function(){for(var e=0;e<o.elems.length;e++){var t=g(o.elems[e]);s.push(t)}}(),E(),l&&(window.addEventListener("resize",p),l=!1,x())},g=function(e){var t=e.getAttribute("data-rellax-zindex")||0,n=0+e.getBoundingClientRect().top,o=e.clientHeight||e.offsetHeight||e.scrollHeight,i=0+e.getBoundingClientRect().left,r=e.clientWidth||e.offsetWidth||e.scrollWidth,s=e.style.cssText,l="",a=/transform\s*:/i.exec(s);if(a){var d=a.index,c=s.slice(d),m=c.indexOf(";");l=m?" "+c.slice(11,m).replace(/\s/g,""):" "+c.slice(11).replace(/\s/g,"")}return{top:n,left:i,height:o,width:r,style:s,transform:l,zindex:t}},h=function(){return i!=(i=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)},y=function(){window.removeEventListener("resize",y),window.removeEventListener("orientationchange",y),window.removeEventListener("scroll",y),document.removeEventListener("touchmove",y),d=a(x)},x=function(){h()&&!1===l?(E(),d=a(x)):(d=null,window.addEventListener("resize",y),window.addEventListener("orientationchange",y),window.addEventListener("scroll",y,!!c&&{passive:!0}),document.addEventListener("touchmove",y,!!c&&{passive:!0}))},E=function(){for(var e=0;e<o.elems.length;e++){var t=o.elems[e].parentNode,n=t.clientHeight||t.offsetHeight||t.scrollHeight,l=t.getBoundingClientRect().top+i,a=n+l,d=s[e].height-n;if(a<i||l>i+r)return;var c="translate3d(0px,"+(d/(n+r)*-(i+r-l)+d/2)+"px,"+s[e].zindex+"px) "+s[e].transform;o.elems[e].style[f]=c}};return o.destroy=function(){for(var e=0;e<o.elems.length;e++)o.elems[e].style.cssText=s[e].style;l||(window.removeEventListener("resize",p),l=!0),u(d),d=null},p(),o.refresh=p,o}console.warn("Rellax: The elements you're trying to select don't exist.")};return e});